# AP01 - Audio Processing System

Комплексная система аудиообработки для работы с аудиосигналами в реальном времени.

## Описание

AP01 представляет собой модульную систему, состоящую из нескольких взаимодействующих компонентов:

- **BandMaster** - центральный управляющий модуль с графическим интерфейсом
- **Recorder** - модуль записи аудиосигналов
- **PSGenerator** - генератор псевдослучайных сигналов
- **SPlayer** - аудиоплеер
- **VoDec** - детектор голосовой активности
- **Correl** - модуль корреляционного анализа

## Требования

### Системные требования
- **ОС**: Windows 10/11 или Linux
- **Компилятор**: MinGW 64-bit (Windows) или GCC (Linux)
- **Qt Framework**: версия 6.5.1 или выше

### Зависимости
- Qt Core, Widgets, Network, Multimedia
- libdspl-2.0 (Digital Signal Processing Library)
- Eigen 3.4.0 (для модуля VoDec)

## Сборка проекта

### Windows (MinGW)
```bash
# Убедитесь, что Qt и MinGW добавлены в PATH
qmake ap01.pro
mingw32-make
```

### Linux (GCC)
```bash
qmake ap01.pro
make
```

### Структура сборки
После успешной сборки исполняемые файлы будут находиться в:
- `bin/debug/` - отладочная версия
- `bin/release/` - релизная версия

## Запуск

1. Запустите главное приложение:
   ```bash
   cd bin/debug
   ./bandmaster.exe  # Windows
   ./bandmaster      # Linux
   ```

2. Остальные модули запускаются автоматически через BandMaster или могут быть запущены независимо.

## Конфигурация

Система использует INI файлы для конфигурации:
- `bmhfactory.ini` - основная конфигурация BandMaster
- `conf_GEN_0_1100.ini` - настройки генератора сигналов
- `conf_REC_A_1102.ini` - настройки записи аудио
- `conf_PLR__1104.ini` - настройки плеера
- `conf_VOD_0_1112.ini` - настройки детектора голоса

## Архитектура

Подробное описание архитектуры системы см. в [docs/vision.md](docs/vision.md).

### Взаимодействие модулей
Все модули взаимодействуют через UDP протокол с использованием собственного формата сообщений. Каждый модуль имеет уникальный ID и может работать как независимо, так и под управлением BandMaster.

## Разработка

### Структура проекта
```
AP01/
├── src/                    # Исходный код
│   ├── bandmaster/        # Главный модуль
│   ├── recorder/          # Модуль записи
│   ├── psgenerator/       # Генератор сигналов
│   ├── splayer/           # Плеер
│   ├── vodec/             # Детектор голоса
│   ├── correl/            # Корреляционный анализ
│   └── include/           # Общие заголовки
├── lib_win64/             # Библиотеки для Windows
├── lib_linux/             # Библиотеки для Linux
├── import/                # Внешние библиотеки
├── build/                 # Временные файлы сборки
├── bin/                   # Исполняемые файлы
├── docs/                  # Документация
└── tests/                 # Тесты
```

### Добавление нового модуля
1. Создайте директорию в `src/`
2. Добавьте `.pro` файл модуля
3. Включите модуль в `ap01.pro`
4. Реализуйте интерфейс взаимодействия через UDP

## Тестирование

Проект включает несколько тестовых модулей:
- `bm_test` - тесты для BandMaster
- `tdb_test` - тесты временных буферов
- `rb_test` - тесты кольцевых буферов

## Логирование

Каждый модуль создает свой лог-файл:
- `log_bmaster.txt` - логи BandMaster
- `log_arecorder_1.txt` - логи Recorder
- `log_psgen.txt` - логи PSGenerator
- `log_player.txt` - логи SPlayer
- `log_vodec.txt` - логи VoDec

## Лицензия

Проект использует следующие лицензии:
- Основной код: Copyright (c) Vladimir Pisarev
- libdspl-2.0: GNU Lesser General Public License v3
- AudioFile.h: MIT License
- ini.h: MIT License

## Контакты

Для вопросов по проекту обращайтесь к разработчику.

---

*Для получения подробной технической информации см. документацию в папке `docs/`*
